{"version":3,"file":"static/js/540.27b1cc87.chunk.js","mappings":"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","sources":["api/Api.jsx","webpack://react-homework-template/./src/pages/Home/Home.module.css?1370","webpack://react-homework-template/./src/components/Pagination/Pagination.module.css?4da5","components/Pagination/Pagination.jsx","pages/Home/Home.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst url = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: 'ddd8814addf1eaac90b3b416df51b9bc',\n  },\n});\n\nexport async function getTrendingMovies() {\n  const getUrl = `/trending/movie/week`;\n  try {\n    const { data } = await url.get(getUrl);\n    return data.results;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function searchMovies(movieName) {\n  // const getUrl = `/search/movie`;\n  const getUrl = `/search/movie?query=${movieName}`;\n  try {\n    const { data } = await url.get(getUrl);\n    // const { data } = await url.get(getUrl, {params: { query: movieName }, });\n\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function getDetailsMovies(id) {\n  const getUrl = `/movie/${id}`;\n  try {\n    const { data } = await url.get(getUrl);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function getCreditsMovies(id) {\n  const getUrl = `/movie/${id}/credits`;\n  try {\n    const { data } = await url.get(getUrl);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function getReviewsMovies(id) {\n  const getUrl = `/movie/${id}/reviews`;\n  try {\n    const { data } = await url.get(getUrl);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"text\":\"Home_text__YlQ2v\",\"list\":\"Home_list__aopnc\",\"item\":\"Home_item__hquEN\",\"box\":\"Home_box__BGP+V\",\"img\":\"Home_img__6O+7s\",\"itemName\":\"Home_itemName__cwARh\"};","// extracted by mini-css-extract-plugin\nexport default {\"pagination\":\"Pagination_pagination__vcNDC\",\"pageItem\":\"Pagination_pageItem__JqCQg\",\"pageLink\":\"Pagination_pageLink__C8Iez\",\"currentPage\":\"Pagination_currentPage__IVc9B\"};","import React from 'react';\nimport css from './Pagination.module.css';\n\nconst Pagination = ({ moviesPerPage, totalMovies, currentPage, paginate }) => {\n  const pageNumbers = [];\n\n  for (let i = 1; i <= Math.ceil(totalMovies / moviesPerPage); i++) {\n    pageNumbers.push(i);\n  }\n\n  return (\n    <nav>\n      <ul className={css.pagination}>\n        {pageNumbers.map(number => (\n          <li key={number} className={css.pageItem}>\n            <button\n              onClick={() => paginate(number)}\n              className={\n                currentPage === number ? css.currentPage : css.pageLink\n              }\n            >\n              {number}\n            </button>\n          </li>\n        ))}\n      </ul>\n    </nav>\n  );\n};\n\nexport default Pagination;\n","import React, { useState, useEffect } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { getTrendingMovies } from '../../api/Api';\nimport PropTypes from 'prop-types';\nimport css from './Home.module.css';\nimport noPoster from '../../img/noPoster.jpg';\nimport Pagination from 'components/Pagination/Pagination';\n\nconst Home = () => {\n  const [movies, setMovies] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [moviesPerPage, setMoviesPerPage] = useState(10);\n\n  const location = useLocation();\n\n  useEffect(() => {\n    const getMovies = async () => {\n      try {\n        const movies = await getTrendingMovies();\n        setMovies(movies);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    getMovies();\n  }, []);\n\n  useEffect(() => {\n    const handleResize = () => {\n      const width = window.innerWidth;\n      if (width >= 768 && width <= 1023) {\n        setMoviesPerPage(8);\n      } else if (width >= 320 && width <= 767) {\n        setMoviesPerPage(6);\n      } else {\n        setMoviesPerPage(10);\n      }\n    };\n\n    handleResize();\n\n    window.addEventListener('resize', handleResize);\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, []);\n\n  const indexOfLastMovie = currentPage * moviesPerPage;\n  const indexOfFirstMovie = indexOfLastMovie - moviesPerPage;\n  const currentMovies = movies.slice(indexOfFirstMovie, indexOfLastMovie);\n\n  const paginate = pageNumber => setCurrentPage(pageNumber);\n\n  if (movies.length === 0) {\n    return;\n  }\n\n  return (\n    <>\n      <div>\n        <h2 className={css.text}>Trending films this week:</h2>\n        <ul className={css.list}>\n          <li>\n            {currentMovies.map(({ id, title, poster_path }) => {\n              return (\n                <Link\n                  key={id}\n                  to={`movies/${id}`}\n                  state={{ from: location }}\n                  className={css.link}\n                >\n                  <li key={id} className={css.item}>\n                    <img\n                      className={css.img}\n                      src={\n                        poster_path\n                          ? `https://image.tmdb.org/t/p/w500${poster_path}`\n                          : noPoster\n                      }\n                      alt=\"Poster\"\n                      height=\"400\"\n                    />\n                    <p className={css.itemName}>{title}</p>\n                  </li>\n                </Link>\n              );\n            })}\n          </li>\n        </ul>\n        <Pagination\n          moviesPerPage={moviesPerPage}\n          totalMovies={movies.length}\n          currentPage={currentPage}\n          paginate={paginate}\n        />\n      </div>\n    </>\n  );\n};\n\nHome.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n      title: PropTypes.string.isRequired,\n    })\n  ),\n};\n\nexport default Home;\n"],"names":["url","axios","baseURL","params","api_key","getTrendingMovies","get","data","results","searchMovies","movieName","getUrl","getDetailsMovies","id","getCreditsMovies","getReviewsMovies","moviesPerPage","totalMovies","currentPage","paginate","pageNumbers","i","Math","ceil","push","className","css","map","number","onClick","useState","movies","setMovies","setCurrentPage","setMoviesPerPage","location","useLocation","useEffect","getMovies","console","log","handleResize","width","window","innerWidth","addEventListener","removeEventListener","indexOfLastMovie","indexOfFirstMovie","currentMovies","slice","length","title","poster_path","to","state","from","src","noPoster","alt","height","pageNumber"],"sourceRoot":""}