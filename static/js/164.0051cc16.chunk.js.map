{"version":3,"file":"static/js/164.0051cc16.chunk.js","mappings":"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","sources":["api/Api.jsx","webpack://react-homework-template/./src/components/Pagination/Pagination.module.css?4da5","components/Pagination/Pagination.jsx","webpack://react-homework-template/./src/pages/Movies/Cast/Cast.module.css?5614","pages/Movies/Cast/Cast.jsx"],"sourcesContent":["import axios from 'axios';\n\nconst url = axios.create({\n  baseURL: 'https://api.themoviedb.org/3',\n  params: {\n    api_key: 'ddd8814addf1eaac90b3b416df51b9bc',\n  },\n});\n\nexport async function getTrendingMovies() {\n  const getUrl = `/trending/movie/week`;\n  try {\n    const { data } = await url.get(getUrl);\n    return data.results;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function searchMovies(movieName) {\n  // const getUrl = `/search/movie`;\n  const getUrl = `/search/movie?query=${movieName}`;\n  try {\n    const { data } = await url.get(getUrl);\n    // const { data } = await url.get(getUrl, {params: { query: movieName }, });\n\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function getDetailsMovies(id) {\n  const getUrl = `/movie/${id}`;\n  try {\n    const { data } = await url.get(getUrl);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function getCreditsMovies(id) {\n  const getUrl = `/movie/${id}/credits`;\n  try {\n    const { data } = await url.get(getUrl);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n\nexport async function getReviewsMovies(id) {\n  const getUrl = `/movie/${id}/reviews`;\n  try {\n    const { data } = await url.get(getUrl);\n    return data;\n  } catch (error) {\n    throw error;\n  }\n}\n","// extracted by mini-css-extract-plugin\nexport default {\"pagination\":\"Pagination_pagination__vcNDC\",\"pageItem\":\"Pagination_pageItem__JqCQg\",\"pageLink\":\"Pagination_pageLink__C8Iez\",\"currentPage\":\"Pagination_currentPage__IVc9B\",\"prevButton\":\"Pagination_prevButton__SXBaf\",\"nextButton\":\"Pagination_nextButton__Ga9Xs\",\"iconWrapper\":\"Pagination_iconWrapper__4-3yX\"};","import React from 'react';\nimport css from './Pagination.module.css';\nimport { FaChevronLeft, FaChevronRight } from 'react-icons/fa';\n\nconst Pagination = ({ moviesPerPage, totalMovies, currentPage, paginate }) => {\n  const pageNumbers = [];\n\n  for (let i = 1; i <= Math.ceil(totalMovies / moviesPerPage); i++) {\n    pageNumbers.push(i);\n  }\n\n  const maxVisibleButtons = 4;\n  let visiblePageNumbers = pageNumbers;\n\n  if (pageNumbers.length > maxVisibleButtons) {\n    const startIndex =\n      currentPage > maxVisibleButtons - 2\n        ? currentPage - maxVisibleButtons + 2\n        : 0;\n\n    visiblePageNumbers = pageNumbers.slice(\n      startIndex,\n      startIndex + maxVisibleButtons - 2\n    );\n  }\n\n  return (\n    <nav>\n      <ul className={css.pagination}>\n        <li className={css.pageItem}>\n          <button\n            onClick={() => paginate(currentPage - 1)}\n            className={`${css.pageLink} ${css.prevNextLink} ${css.prevButton}`}\n            disabled={currentPage === 1}\n          >\n            <span className={css.iconWrapper}>\n              <FaChevronLeft className={css.arrowIcon} />\n            </span>\n          </button>\n        </li>\n\n        {currentPage > maxVisibleButtons - 2 && (\n          <li className={css.pageItem}>\n            <button className={css.pageLink} disabled>\n              ...\n            </button>\n          </li>\n        )}\n\n        {visiblePageNumbers.map(number => (\n          <li key={number} className={css.pageItem}>\n            <button\n              onClick={() => paginate(number)}\n              className={\n                currentPage === number ? css.currentPage : css.pageLink\n              }\n            >\n              {number}\n            </button>\n          </li>\n        ))}\n\n        {currentPage + maxVisibleButtons - 2 < pageNumbers.length && (\n          <li className={css.pageItem}>\n            <button className={css.pageLink} disabled>\n              ...\n            </button>\n          </li>\n        )}\n\n        <li className={css.pageItem}>\n          <button\n            onClick={() => paginate(currentPage + 1)}\n            className={`${css.pageLink} ${css.prevNextLink} ${css.nextButton}`}\n            disabled={currentPage === pageNumbers.length}\n          >\n            <span className={css.iconWrapper}>\n              <FaChevronRight className={css.arrowIcon} />\n            </span>\n          </button>\n        </li>\n      </ul>\n    </nav>\n  );\n};\n\nexport default Pagination;\n","// extracted by mini-css-extract-plugin\nexport default {\"img\":\"Cast_img__XGMPG\",\"list\":\"Cast_list__FhUQR\",\"title\":\"Cast_title__lWyyB\",\"item\":\"Cast_item__PnSVd\",\"textWrap\":\"Cast_textWrap__l+IFy\",\"box\":\"Cast_box__pkQug\",\"div\":\"Cast_div__HQ8bG\"};","import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { getCreditsMovies } from '../../../api/Api';\nimport noPoster from '../../../img/noPoster.jpg';\nimport PropTypes from 'prop-types';\nimport css from './Cast.module.css';\nimport Pagination from '../../../components/Pagination/Pagination';\n\nfunction Cast() {\n  const { moviesId } = useParams();\n  const [movies, setMovies] = useState([]);\n  const [currentPage, setCurrentPage] = useState(1);\n  const [moviesPerPage, setMoviesPerPage] = useState(10);\n\n  useEffect(() => {\n    const getMovies = async () => {\n      try {\n        const { cast } = await getCreditsMovies(moviesId);\n        setMovies(cast);\n      } catch (error) {\n        console.log(error);\n      }\n    };\n    getMovies();\n  }, [moviesId]);\n\n  useEffect(() => {\n    const handleResize = () => {\n      const width = window.innerWidth;\n      if (width >= 768 && width <= 1023) {\n        setMoviesPerPage(8);\n      } else if (width >= 320 && width <= 767) {\n        setMoviesPerPage(5);\n      } else {\n        setMoviesPerPage(10);\n      }\n    };\n\n    handleResize();\n\n    window.addEventListener('resize', handleResize);\n    return () => {\n      window.removeEventListener('resize', handleResize);\n    };\n  }, []);\n\n  const indexOfLastMovie = currentPage * moviesPerPage;\n  const indexOfFirstMovie = indexOfLastMovie - moviesPerPage;\n  const currentCast = movies.slice(indexOfFirstMovie, indexOfLastMovie);\n\n  const paginate = pageNumber => setCurrentPage(pageNumber);\n\n  if (movies.length === 0) {\n    return;\n  }\n\n  return (\n    <>\n      <div>\n        <div className={css.box}>\n          {currentCast.map(\n            ({ cast_id, original_name, character, profile_path }) => {\n              return (\n                <div key={cast_id} className={css.list}>\n                  <div className={css.div}>\n                    <img\n                      className={css.img}\n                      src={\n                        profile_path\n                          ? `https://image.tmdb.org/t/p/w500${profile_path}`\n                          : noPoster\n                      }\n                      alt=\"character\"\n                      width=\"150\"\n                    />\n                    <div className={css.textWrap}>\n                      <h3 className={css.title}>{original_name}</h3>\n                      <p className={css.item}>Character: {character}</p>\n                    </div>\n                  </div>\n                </div>\n              );\n            }\n          )}\n        </div>\n        <Pagination\n          moviesPerPage={moviesPerPage}\n          totalMovies={movies.length}\n          currentPage={currentPage}\n          paginate={paginate}\n        />\n      </div>\n    </>\n  );\n}\n\nCast.propTypes = {\n  movies: PropTypes.arrayOf(\n    PropTypes.shape({\n      cast_id: PropTypes.string.isRequired,\n      character: PropTypes.string.isRequired,\n      original_name: PropTypes.string.isRequired,\n      profile_path: PropTypes.string.isRequired,\n    })\n  ),\n};\n\nexport default Cast;\n"],"names":["url","axios","baseURL","params","api_key","getTrendingMovies","get","data","results","searchMovies","movieName","getUrl","getDetailsMovies","id","getCreditsMovies","getReviewsMovies","moviesPerPage","totalMovies","currentPage","paginate","pageNumbers","i","Math","ceil","push","visiblePageNumbers","length","startIndex","maxVisibleButtons","slice","className","css","onClick","disabled","map","number","moviesId","useParams","useState","movies","setMovies","setCurrentPage","setMoviesPerPage","useEffect","getMovies","cast","console","log","handleResize","width","window","innerWidth","addEventListener","removeEventListener","indexOfLastMovie","indexOfFirstMovie","currentCast","cast_id","original_name","character","profile_path","src","noPoster","alt","Pagination","pageNumber"],"sourceRoot":""}